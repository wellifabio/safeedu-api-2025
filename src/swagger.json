{
    "openapi": "3.0.0",
    "info": {
        "title": "SafeEdu - API",
        "version": "1.0.0",
        "description": "Documentação, Tecnologias: Node.js, Prisma, XAMPP(MySQL[MariaDB])<br>Desenvolvida para treinamento simulado BR Skills SENAI 2025.",
        "contact": {
            "name": "Instrutor Wellington SESI/SENAI",
            "email": "wellington.martins@sp.senai.br",
            "url": "https://github.com/wellifabio"
        }
    },
    "servers": [
        {
            "url": "http://localhost:4000",
            "description": "Servidor local"
        }
    ],
    "securityDefinitions": {
        "bearerAuth": {
            "type": "apiKey",
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token para autenticação",
            "scheme": "bearer",
            "bearer format": "JWT",
            "bearer token": "JWT <token>",
            "bearer token description": "Bearer token para autenticação"
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearer format": "JWT"
            }
        }
    },
    "tags": [
        {
            "name": "Teste",
            "description": "Endpoint de teste da API"
        },
        {
            "name": "Endpoint #01",
            "description": "Endpoints de login e Usuários"
        },
        {
            "name": "Endpoint #02",
            "description": "Endpoint para validar token"
        },
        {
            "name": "Endpoint #03",
            "description": "Endpoint MOTDs para obter frases aleatórias"
        },
        {
            "name": "Endpoint #04",
            "description": "Endpoints para listar Escolas"
        },
        {
            "name": "Endpoint #05",
            "description": "Endpoints para listar e enviar Comentários"
        },
        {
            "name": "Endpoint #06",
            "description": "Endpoints para listar e enviar Prints"
        }
    ],
    "paths": {
        "/": {
            "get": {
                "tags": [
                    "Teste"
                ],
                "summary": "Endpoint de teste geral da API",
                "responses": {
                    "200": {
                        "description": "Retorna uma mensagem de teste"
                    },
                    "500": {
                        "description": "Erro ao processar a requisição"
                    }
                }
            }
        },
        "/api/login": {
            "post": {
                "tags": [
                    "Endpoint #01"
                ],
                "summary": "Endpoint para fazer o login",
                "requestBody": {
                    "description": "Dados de login",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "default": "maria@email.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "default": "senha123"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login realizado com sucesso"
                    },
                    "400": {
                        "description": "Erro ao fazer login, verifique e-mail e senha"
                    }
                }
            }
        },
        "/api/users": {
            "get": {
                "tags": [
                    "Endpoint #01"
                ],
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Endpoint para obter todos os usuários",
                "responses": {
                    "200": {
                        "description": "Lista de usuários cadastrados"
                    }
                }
            },
            "post": {
                "tags": [
                    "Endpoint #01"
                ],
                "summary": "Endpoint para criar um novo usuário",
                "requestBody": {
                    "description": "Dados do usuário",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "default": "Frederico"
                                    },
                                    "email": {
                                        "type": "string",
                                        "default": "frederico@email.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "default": "123"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuário criado com sucesso"
                    },
                    "400": {
                        "description": "Erro ao criar usuário, verifique os dados"
                    }
                }
            }
        },
        "/api/validate": {
            "post": {
                "tags": [
                    "Endpoint #02"
                ],
                "summary": "Endpoint para validar o login",
                "requestBody": {
                    "description": "Dados do usuário",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "token": {
                                        "type": "string",
                                        "default": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MiwibmFtZSI6Ik1hcmlhIiwiZW1haWwiOiJtYXJpYUBlbWFpbC5jb20iLCJpYXQiOjE3NTQ0MDQxNjgsImV4cCI6MTc1NDQwNzc2OH0.A_iyUNHAS2D46DyKIum2nTzzf8RyzO97r-C6JNl2KVQ"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Token validade com sucesso"
                    },
                    "401": {
                        "description": "Token inválido ou expirado"
                    }
                }
            }
        },
        "/api/motds": {
            "get": {
                "tags": [
                    "Endpoint #03"
                ],
                "summary": "Endpoint para Obter MOTDs",
                "responses": {
                    "200": {
                        "description": "Retorna uma dica"
                    },
                    "500": {
                        "description": "Erro ao processar a requisição"
                    }
                }
            }
        },
        "/api/escolas": {
            "get": {
                "tags": [
                    "Endpoint #04"
                ],
                "summary": "Endpoint para obter todas as escolas",
                "responses": {
                    "200": {
                        "description": "Retorna a lista de escolas"
                    },
                    "500": {
                        "description": "Erro ao processar a requisição"
                    }
                }
            }
        },
        "/api/comentarios": {
            "get": {
                "tags": [
                    "Endpoint #05"
                ],
                "summary": "Endpoint para obter todos os comentários",
                "responses": {
                    "200": {
                        "description": "Lista de comentarios cadastrados"
                    }
                }
            },
            "post": {
                "tags": [
                    "Endpoint #05"
                ],
                "summary": "Endpoint para criar um novo comentário",
                "requestBody": {
                    "description": "Dados do comentário",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "id_escola": {
                                        "type": "string",
                                        "default": "1"
                                    },
                                    "comentario": {
                                        "type": "string",
                                        "default": "Muito boa"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Comentário criado com sucesso"
                    },
                    "400": {
                        "description": "Erro ao criar comentário, verifique os dados"
                    }
                }
            }
        },
        "/api/imagens": {
            "get": {
                "tags": [
                    "Endpoint #06"
                ],
                "summary": "Endpoint para obter todos os comentários",
                "responses": {
                    "200": {
                        "description": "Lista de comentarios cadastrados"
                    }
                }
            },
            "post": {
                "tags": [
                    "Endpoint #06"
                ],
                "summary": "Endpoint para enviar prints para a API",
                "requestBody": {
                    "description": "Id do usuário logado e um arquivos estático de imagem",
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "id_user": {
                                        "type": "string",
                                        "default": "2"
                                    },
                                    "imagem": {
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "required": [
                                    "id_user",
                                    "imagem"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Imagem enviada com sucesso"
                    },
                    "400": {
                        "description": "Erro ao receber imagem, verifique os dados"
                    }
                }
            }
        }
    }
}